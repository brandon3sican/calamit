{% extends 'dashboard-layout/base.html' %}
{% load static %}

{% block content %}
<main id="main" class="main">
    <div class="pagetitle">
        <h1>Glossary</h1>
        <nav>
            <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'dashboard-home'%}">Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'glossary-list'%}">Glossary</a></li>
            <li class="breadcrumb-item active">{{ glossary.term }}</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                <h5 class="card-title">{{ glossary.term }}
                
                <form method="POST" action="{% url 'glossary-delete' glossary.id %}" class="float-end">
                    <a href="../update/{{glossary.id}}"><i class="bi bi-pencil-fill text-primary" type="button"></i></a> &nbsp

                    {% csrf_token %}
                    <i class="bi bi-trash-fill text-warning show_confirm" type="button"></i>
                </form>
                </h5>

                <p class="card-text">{{ glossary.definition }}</p>
                {% if glossary.picture %}
                    <p><img src="{{ glossary.picture.url }}" style="width:400px"></p>
                {% endif %}
                </div>
            </div>
        </div>
      </div>
    </section>
</main>
{% endblock content %}

{% block javascript %}
  <script>
  $('.show_confirm').click(function(event) {
    var form =  $(this).closest("form");
    event.preventDefault();
    swal({
        text: "Are you sure you want to permanently delete this record?",
        icon: "warning",
        buttons: {
          cancel: "No, Cancel",
          confirm: {
            text: "Yes, Delete",
            value: "confirm"
          }  
        }
    })
    .then((willDelete) => {
        if (willDelete) {
            form.submit();
        }
    });
  });
  </script>
{% endblock javascript%}